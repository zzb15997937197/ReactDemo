<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>使用定时器实现渐变效果</title>
<script src="https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"></script>
<script src="https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"></script>
<script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>

</head>
<body>
   <!-- 透明度用opacity,初始值为1.0-->
     <div id="example"></div>
     
     <script type="text/babel">
       class Clock extends React.Component{
        constructor(props){
          super(props);
          this.state={opacity:1.0,color:'#ff3333'};
         }

        componentDidMount(){
          this.timerID=setInterval(
             function(){
              var op=this.state.opacity;
              op-=0.05;
              if(op<0.1){
               op=1.0
              }
             this.setState({opacity:op})
           }.bind(this)
           ,100)
        }

         componentWillUnmout() {
          clearInterval(this.timerID);
         }    
    

         render(){
            return(
             <h1 style={{opacity:this.state.opacity,color:this.state.color}}>我爱你</h1>
            )
          }
     }


      ReactDOM.render(
        <Clock /> ,
      document.getElementById("example")
     )
     </script>
</body>
</html>